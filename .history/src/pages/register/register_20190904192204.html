<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      Registration Form
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size-md="6" offset-md="3" offset-sm="1">
        <ion-card>
          <ion-card-header>
            <ion-card-title> Fill up the following fields</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            
            <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
              <div formGroupName="userData">
                
                <ion-item>
                    <ion-label position="floating">Name</ion-label>
                  <ion-input type="text" id="name" formControlName="name" placeholder="Enter Name">
                  </ion-input>
                </ion-item>
                <ion-item *ngIf="!signupForm.get('userData.name').valid && signupForm.get('userData.name').touched">
                    <p style="color: red">Please enter a valid name.</p>
                </ion-item>


                <ion-item>
                  <ion-input type="text" id="username" formControlName="username" placeholder="Enter Username"></ion-input>
                </ion-item>
                <ion-item *ngIf="!signupForm.get('userData.username').valid && signupForm.get('userData.username').touched">
                    <p style="color: red">Please enter a valid username.</p>
                </ion-item>


                <ion-item>
                  <ion-input type="email" id="email" formControlName="email" placeholder="Enter Email"></ion-input>
                </ion-item>
                <ion-item *ngIf="!signupForm.get('userData.email').valid && signupForm.get('userData.email').touched">
                    <p style="color: red">Please enter a valid email.</p>
                </ion-item>

              
                <ion-item>
                  <ion-label position="floating">Mobile No</ion-label>
                  <ion-input type="number" placeholder="ex: 9876543210" formControlName="phone" ></ion-input>
                </ion-item>
                <ion-item *ngIf="!signupForm.get('userData.phone').valid && signupForm.get('userData.phone').touched">
                    <p style="color: red">Please enter a valid phone no.</p>
                </ion-item>

                <ion-item>
                  <ion-icon name="calendar"></ion-icon>
                  <ion-label>Date Of Birth</ion-label>
                  <ion-datetime displayFormat="MM DD YY" placeholder="Select Date" formControlName="dob"></ion-datetime>
                </ion-item>
                <ion-item *ngIf="!signupForm.get('userData.dob').valid && signupForm.get('userData.dob').touched">
                    <p style="color: red">Please enter a valid date of birth.</p>
                </ion-item>
              <ion-row>
                  <ion-col>
                      <div margin-vertical text-left>
                        <button ion-button type="outline" fill="outline" color="primary" navPop>
                          <ion-icon name="backspace"></ion-icon>
                        </button>
                      </div>
                    </ion-col>
                <ion-col>
                  <div margin-vertical text-right>
                    <button ion-button type="submit" fill="solid" color="success" [disabled]="!signupForm.valid" (click)="onSubmit()">
                      <ion-icon slot="end" name="checkmark"></ion-icon>submit
                    </button>
                  </div>
                </ion-col>
              </ion-row>

              </div>
            </form>